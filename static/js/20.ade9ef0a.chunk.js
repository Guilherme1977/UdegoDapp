(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[20],{1816:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l}));n(42);var a=n(1841),r=n.n(a),c=n(79);function o(e){return r()(e).format(Number.isInteger(e)?"$0,0":"$0,0.00")}function i(e){return r()(e/100).format("0.0%")}function s(e){return r()(e).format()}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;return c.a.utils.formatUnits(e,t)}},2052:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ve}));var a=n(32),r=n(0),c=n(1777),o=n(2028),i=n(1787),s=n(1802),l=n(194),u=n(147),d=n(1805),b=(n(682),n(181)),j=n(4),p=n(71),O=n(25),h=n(156),x=n(1782),v=n(1896),f=n(1775),g=n(1706),m=n(38),k=n.n(m),y=n(594),w=n(54),C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:365,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=n/365,c=e/100,o=365*t,i=e/100*r;if(o>0&&(i=Math.pow(1+c/o,o*r)-1),a){var s=a/100,l=i*s;i-=l}return i},S=n(370),T=n(1816),D=n(1788),F=n(300),R=n(2),B=n.n(R),A=n(22),I=n(33),M=n(1783),E=n(1789),L=n(1790),P=n(1897),W=n(2050),U=n(2027),N=n(175),q=n(62),z=n(246),V=n(1),H=RegExp("^\\d*(?:\\\\[.])?\\d*$");function $(e){var t,n=e.tokenSymbol,a=void 0===n?"":n,o=e.isMax,i=void 0!==o&&o,s=e.label,l=void 0===s?"":s,u=e.placeHolder,d=void 0===u?"":u,b=e.inputValue,j=void 0===b?"":b,p=e.onInputChange,O=void 0===p?null:p,h=e.onMax,x=void 0===h?null:h,f=e.selectedToken,g=e.tokenBalance,m=e.max,y=e.onConfirm,w=e.onDismiss,C=Object(q.a)().account,T=Object(r.useState)(!1),F=Object(I.a)(T,2),R=F[0],M=F[1],E=Object(r.useMemo)((function(){return Object(S.e)(m)}),[m]),L=new k.a(j),$=new k.a(E),J="0"===m||!m;return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)(v.a,{sx:{maxWidth:620},children:[Object(V.jsxs)(P.a,{sx:{background:"#e7e9ec",margin:"5px",borderRadius:"inherit"},children:[Object(V.jsx)("div",{children:Object(V.jsxs)("p",{children:[f?"Balance: ".concat(null!==(t=function(e){try{var t=Object(S.b)(e);return J?"0":t.gt(0)?t.toFixed(8,k.a.ROUND_DOWN):t.toFixed(3,k.a.ROUND_DOWN)}catch(n){Object(z.e)(n.data?n.data.message:n.message)}}(g))&&void 0!==t?t:"Loading"," "):" - ",C&&i&&f&&Object(V.jsx)(D.a,{variant:"outlined",style:{marginLeft:"3px"},onClick:x,size:"small",children:"Max"})]})}),Object(V.jsx)("div",{style:{marginTop:"5px"},children:Object(V.jsxs)(c.a,{container:!0,spacing:1,children:[Object(V.jsx)(c.a,{item:!0,xs:8,md:8,children:Object(V.jsx)(W.a,{inputMode:"decimal",step:"any",min:"0",type:"number",fullWidth:!0,value:parseFloat(j),variant:"filled",label:l,placeholder:d,title:l,onChange:function(e){var t;(""===(t=e.currentTarget.value.replace(/,/g,"."))||H.test(Object(N.d)(t)))&&O(t)}})}),Object(V.jsxs)(c.a,{item:!0,xs:4,md:4,style:{fontSize:"10px",display:"flex",alignItems:"center"},children:[Object(V.jsx)(D.a,{onClick:x,variant:"outlined",style:{marginRight:"5px"},children:"Max"}),a]})]})})]}),Object(V.jsx)(U.a,{children:Object(V.jsx)(D.a,{variant:"contained",onClick:Object(A.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.prev=1,e.next=4,y(j);case 4:w(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Object(z.e)(e.t0.data?e.t0.data.message:e.t0.message);case 10:return e.prev=10,M(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])}))),fullWidth:!0,disabled:R||!L.isFinite()||L.eq(0)||L.gt($),children:"Confirm"})})]})})}var J=n(158),K=(n(203),n(577)),_=(n(376),n(1822)),G=n(133),Y=n(315),Q=(n(1836),G.d,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=Object(l.c)(),c=Object(J.c)(),o=c.account,i=Object(Y.e)(),s=Object(Y.g)(e),u=Object(r.useCallback)(function(){var t=Object(A.a)(B.a.mark((function t(r,c){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_.b)(i,e,r,n);case 2:a(Object(K.h)(e,o)),a(Object(K.f)(e,o));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),[o,a,t,i,s,e]);return{onStake:u}}),X=(n(144),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(l.c)(),a=Object(J.c)(),c=a.account,o=Object(Y.e)(),i=Object(Y.g)(e),s=Object(r.useCallback)(function(){var t=Object(A.a)(B.a.mark((function t(a,r){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_.c)(o,e,a);case 2:n(Object(K.h)(e,c)),n(Object(K.f)(e,c)),n(Object(K.g)(e,c));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),[c,n,t,o,i,e]);return{onUnstake:s}}),Z=function(e){var t=e.isBnbPool,n=e.pool,a=e.stakingTokenBalance,c=e.isDisabled,o=e.isUnstake,i=n.sousId,s=n.stakingToken,u=(n.earningTokenPrice,n.apr,n.userData,n.stakingLimit,n.earningToken,Object(r.useState)(!1)),d=Object(I.a)(u,2),b=d[0],j=d[1],p=Object(r.useState)(!1),O=Object(I.a)(p,2),h=O[0],x=O[1],v=Q(i,t).onStake,f=X(i,n.enableEmergencyWithdraw).onUnstake,g=(Object(q.a)().account,Object(l.c)(),Object(r.useMemo)((function(){return Object(S.e)(a)}),[a])),m=function(){var e=Object(A.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(t);case 3:e.next=10;break;case 5:return e.prev=5,e.t0=e.catch(0),Object(z.e)(e.t0.data?e.t0.data.message:e.t0.message),console.log(e.t0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(A.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(t);case 3:e.next=10;break;case 5:return e.prev=5,e.t0=e.catch(0),Object(z.e)(e.t0.data?e.t0.data.message:e.t0.message),console.log(e.t0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(D.a,{variant:"contained",color:"primary",disabled:c,onClick:function(){x(""),j(!0)},children:o?"Unstake":"Stake"}),Object(V.jsxs)(M.a,{open:b,onClose:function(){j(!1)},children:[Object(V.jsxs)(E.a,{children:[o?"Unstake":"Stake"," ",s.symbol]}),Object(V.jsx)(L.a,{dividers:!0,children:Object(V.jsx)($,{tokenSymbol:s.symbol,selectedToken:s.address,tokenBalance:a,onInputChange:function(e){x(e)},inputValue:h,max:a,onMax:function(){x(g)},onConfirm:o?k:m,onDismiss:function(){j(!1)}})})]})]})},ee=(G.d,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(l.c)(),a=Object(J.c)(),c=a.account,o=Object(Y.g)(e),i=Object(Y.e)(),s=Object(r.useCallback)(Object(A.a)(B.a.mark((function t(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(_.a)(i,e);case 2:n(Object(K.g)(e,c)),n(Object(K.f)(e,c));case 4:case"end":return t.stop()}}),t)}))),[c,n,t,i,o,e]);return{onReward:s}});var te=function(e){var t=e.pool,n=e.hasEarnings,a=e.needsApproval,c=e.isBnbPool,o=e.isDisabled,i=void 0!==o&&o,s=t.sousId,l=ee(s,c).onReward,u=Object(r.useState)(!1),d=Object(I.a)(u,2),b=d[0],j=d[1],p=function(){var e=Object(A.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,l();case 4:j(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),Object(z.e)("Please try again. Confirm the transaction and make sure you are paying enough gas!"),j(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(V.jsx)(D.a,{variant:"contained",disabled:!n||a||b||i,onClick:p,children:"Harvest"})};var ne=function(e){var t=e.pool,n=e.hasEarnings,a=e.needsApproval,c=e.isBnbPool,o=e.fullBalance,i=e.isDisabled,s=void 0!==i&&i,l=t.sousId,u=t.earningToken,d=Q(l,c).onStake,b=Object(r.useState)(!1),j=Object(I.a)(b,2),p=j[0],O=j[1],h=function(){var e=Object(A.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,e.next=4,d(o,u.decimals,!0);case 4:O(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),Object(z.e)("Please try again. Confirm the transaction and make sure you are paying enough gas!"),O(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(V.jsx)(D.a,{variant:"contained",disabled:!n||a||p||s,onClick:h,fullWidth:!0,children:"Compound Rewards"})},ae=n(79),re=n(1812);var ce=function(e){var t=e.pool,n=e.isCompounding,a=void 0!==n&&n,o=e.timeStamp,i=void 0===o?"0.00":o,s=t.sousId,u=t.stakingToken,d=t.earningToken,b=(t.harvest,t.poolCategory),j=t.userData,p=(t.earningTokenPrice,b===F.a.BINANCE),O=(null===j||void 0===j?void 0:j.allowance)?new k.a(j.allowance):w.c,h=(null===j||void 0===j?void 0:j.stakingTokenBalance)?new k.a(j.stakingTokenBalance):w.c,x=(null===j||void 0===j?void 0:j.stakedBalance)?new k.a(j.stakedBalance):w.c,v=(null===j||void 0===j?void 0:j.pendingReward)?new k.a(j.pendingReward):w.c,f=!O.gt(0)&&!p,g=x.gt(0),m=v.toNumber()>0,y=Object(S.e)(x,d.decimals),C=function(e,t,n){var a=Object(r.useState)(!1),c=Object(I.a)(a,2),o=c[0],i=c[1],s=Object(re.a)().callWithGasPrice,u=Object(l.c)(),d=Object(J.c)().account,b=Object(Y.g)(t);return{handleApprove:Object(r.useCallback)(Object(A.a)(B.a.mark((function n(){var a,r;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i(!0),n.next=4,s(e,"approve",[b.address,ae.a.constants.MaxUint256]);case 4:return a=n.sent,n.next=7,a.wait();case 7:r=n.sent,u(Object(K.e)(t,d)),r.status?(Object(z.f)("Successfully Approved!"),i(!1)):(Object(z.e)("Please try again. Confirm the transaction and make sure you are paying enough gas!"),i(!1)),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(0),console.error(n.t0),Object(z.e)("Please try again. Confirm the transaction and make sure you are paying enough gas!");case 16:case"end":return n.stop()}}),n,null,[[0,12]])}))),[d,u,e,b,t,n,z.f,z.e,s]),requestedApproval:o}}(Object(Y.d)(u.address||""),s,d.symbol),T=C.handleApprove,R=(C.requestedApproval,parseFloat(i)>0);return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(c.a,{container:!0,sx:{py:3,textAlign:"center"},spacing:3,children:[Object(V.jsx)(c.a,{item:!0,xs:4,md:4,children:Object(V.jsx)(te,{hasEarnings:m,isDisabled:R,needsApproval:f,isBnbPool:p,pool:t})}),Object(V.jsxs)(c.a,{item:!0,xs:4,md:4,children:[f&&Object(V.jsx)(D.a,{variant:"contained",color:"info",onClick:T,children:"Approve"}),!f&&Object(V.jsx)(Z,{pool:t,stakingTokenBalance:h,isDisabled:f})]}),Object(V.jsx)(c.a,{item:!0,xs:4,md:4,children:Object(V.jsx)(Z,{pool:t,stakingTokenBalance:x,isDisabled:f||!g,isUnstake:!0})})]}),a&&Object(V.jsx)("div",{style:{padding:"10px"},children:Object(V.jsx)(ne,{pool:t,hasEarnings:m,needsApproval:f,isDisabled:R,fullBalance:y})})]})},oe=["pool","account","performanceFee"],ie=Object(O.a)("div")((function(e){var t=e.theme;return{display:"flex",position:"relative",justifyContent:"center",paddingTop:"calc(100% * 9 / 16)","&:before":{top:0,zIndex:9,content:"''",width:"100%",height:"100%",position:"absolute",backdropFilter:"blur(3px)",WebkitBackdropFilter:"blur(3px)",borderTopLeftRadius:t.shape.borderRadiusMd,borderTopRightRadius:t.shape.borderRadiusMd,backgroundColor:Object(h.a)(t.palette.primary.darker,.72)}}})),se=Object(O.a)("img")({top:0,zIndex:8,width:"100%",height:"100%",objectFit:"cover",position:"absolute"});function le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(V.jsxs)(c.a,{item:!0,xs:4,children:[Object(V.jsx)(x.a,{variant:"caption",sx:{mb:.5,color:"text.secondary",display:"block"},children:t}),Object(V.jsx)(x.a,{variant:"subtitle1",children:e})]})}function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(V.jsxs)(c.a,{container:!0,children:[Object(V.jsx)(c.a,{item:!0,xs:6,md:6,children:e}),Object(V.jsx)(c.a,{item:!0,xs:6,md:6,sx:{fontWeight:"bold"},children:t})]})}function de(e){var t=e.pool,n=(e.account,e.performanceFee),a=void 0===n?0:n,r=Object(p.a)(e,oe),o=t.stakingToken,i=t.earningToken,l=t.userData,u=t.totalStaked,d=t.stakingTokenPrice,b=t.sousId,O=t.poolWeight,h=(null===l||void 0===l?void 0:l.stakedBalance)?new k.a(l.stakedBalance):w.c,m=(null===l||void 0===l?void 0:l.pendingReward)?new k.a(l.pendingReward):w.c,D=function(e,t){var n=e.isAutoVault,a=e.apr,r=n?5e3:0;return n?{apr:100*C(a,5e3,365,t),autoCompoundFrequency:r}:{apr:a,autoCompoundFrequency:r}}(t,a),F=D.apr,R=(D.autoCompoundFrequency,function(){return Object(S.c)(u,o.decimals).toFixed(2)}),B=0===b,A=l.userLast,I=O||0,M=1e3*(parseFloat(A)+parseFloat(604800))-Date.now(),E=(M/1e3>0?M/1e3:0)/3600;return Object(V.jsxs)(v.a,Object(j.a)(Object(j.a)({},r),{},{children:[Object(V.jsxs)(ie,{children:[Object(V.jsx)(y.a,{color:"paper",src:"/static/icons/shape-avatar.svg",sx:{width:144,height:62,zIndex:10,bottom:-26,position:"absolute"}}),Object(V.jsx)(f.a,{alt:"Staking Pool",src:"./tokens/ude.png",sx:{width:64,height:64,zIndex:11,position:"absolute",transform:"translateY(-50%)"}}),Object(V.jsx)(se,{alt:o.symbol,src:"./images/staking.png"})]}),Object(V.jsxs)(x.a,{variant:"subtitle1",align:"center",sx:{mt:6},children:["Earn ",i.symbol]}),Object(V.jsxs)(x.a,{variant:"body2",align:"center",sx:{color:"text.secondary"},children:["Stake ",o.symbol," Tokens"]}),Object(V.jsxs)(g.a,{sx:{textAlign:"center",mt:2,mb:2.5},children:[ue("Multiplier","".concat(Math.round(I/100),"x")),ue("APR","".concat(null===F||void 0===F?void 0:F.toFixed(2),"%")),ue("Total Staked","".concat(parseFloat(R()).toLocaleString()," ").concat(null===o||void 0===o?void 0:o.symbol)),ue("TVL","".concat(Object(T.b)(parseFloat((R()*d).toString()).toLocaleString())))]}),Object(V.jsx)(ce,{isCompounding:B,pool:t,timeStamp:E}),Object(V.jsx)(s.a,{}),Object(V.jsxs)(c.a,{container:!0,sx:{py:3,textAlign:"center"},children:[le(Object(G.g)(h),"STAKED"),le(Object(G.g)(m,8),"REWARDS"),le("".concat(h>0?parseFloat(E.toString()).toFixed(2):"0.00"," Hrs"),"LOCKED")]})]}))}var be=n(65),je=n(229),pe=n(416),Oe=n(748),he=n(583),xe=Object(V.jsx)(V.Fragment,{children:Object(a.a)(Array(8)).map((function(e,t){return Object(V.jsx)(c.a,{item:!0,xs:12,sm:6,md:4,children:Object(V.jsx)(o.a,{variant:"rectangular",width:"100%",sx:{paddingTop:"115%",borderRadius:2}})},t)}))});function ve(){var e=Object(u.a)().themeStretch,t=Object(q.a)().account,n=function(){var e=Object(be.c)((function(e){return{pools:e.pools.data,userDataLoaded:e.pools.userDataLoaded}})),t=e.pools,n=e.userDataLoaded;return{pools:t.map(Oe.b),userDataLoaded:n}}(),o=n.pools,j=(n.userDataLoaded,Object(r.useMemo)((function(){o.find((function(e){return 0===e.sousId}));return Object(a.a)(o)}),[o]));return Object(he.d)(),function(){var e=Object(l.c)(),t=Object(pe.a)().slowRefresh;Object(r.useEffect)((function(){(function(){var t=Object(A.a)(B.a.mark((function t(){var n;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,je.a.getBlockNumber();case 2:n=t.sent,e(Object(K.b)(n));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()(),e(Object(K.c)())}),[e,t])}(),function(e){var t=Object(pe.a)().fastRefresh,n=Object(l.c)();Object(r.useEffect)((function(){e&&n(Object(K.d)(e))}),[e,n,t])}(t),Object(V.jsx)(d.a,{title:"Stake | ".concat(b.f),children:Object(V.jsxs)(i.a,{maxWidth:!e&&"lg",children:[Object(V.jsxs)("div",{children:[Object(V.jsx)("h2",{children:"Stake & Earn Rewards"}),Object(V.jsx)("p",{children:"Stake tokens to earn rewards with high returns and high multipliers"})]}),Object(V.jsx)("br",{}),Object(V.jsx)(s.a,{}),Object(V.jsx)("br",{}),Object(V.jsxs)(c.a,{container:!0,spacing:3,children:[j&&j.map((function(e){return Object(V.jsx)(c.a,{item:!0,xs:12,sm:6,md:4,children:Object(V.jsx)(de,{pool:e,account:t})},e.id)})),(!j||!j.length)&&xe]})]})})}}}]);
//# sourceMappingURL=20.ade9ef0a.chunk.js.map